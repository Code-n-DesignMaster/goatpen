var currency=new Intl.NumberFormat("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2}),number=new Intl.NumberFormat("en-GB",{minimumFractionDigits:0,maximumFractionDigits:0});$(function(){var t=$("#budget");$('input[type="number"]').on("input",function(){window.warnBeforeUnload=!0;var a=$(this).parents("tr"),r=a.find(".price"),n=a.find(".total"),e=parseFloat(r.attr("data-amount"));if(!isNaN(e)){var i=parseInt($(this).val()||0),o=parseFloat(n.attr("data-amount")),s=parseFloat(t.attr("data-raw"))-(e*i-o);o=e*i,n.text(currency.format(o)),n.attr("data-amount",o),t.text(currency.format(s)),t.attr("data-raw",s),s<0?t.addClass("text-danger"):t.removeClass("text-danger")}$(".deliverable").each(function(){var t=$(this).attr("data-id"),a=parseInt($(this).attr("data-original"));$("tr[data-metric-"+t+"]").each(function(){a-=parseInt($(this).find('input[type="number"]').val()||0)*parseFloat($(this).attr("data-metric-"+t))}),$(this).text(number.format(a)),a<0?$(this).addClass("text-success"):$(this).removeClass("text-success")})}),$("form").on("submit",function(){window.warnBeforeUnload=!1}),window.onbeforeunload=function(){if(!0===window.warnBeforeUnload)return""}});
//# sourceMappingURL=./campaign-builder-min.js.map